{"remainingRequest":"C:\\Users\\alienware\\Desktop\\MyProject\\04_vue_cli_phone\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\alienware\\Desktop\\MyProject\\04_vue_cli_phone\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\alienware\\Desktop\\MyProject\\04_vue_cli_phone\\src\\components\\tabbar\\HomeSearch.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\alienware\\Desktop\\MyProject\\04_vue_cli_phone\\src\\components\\tabbar\\HomeSearch.vue","mtime":1541926903467},{"path":"C:\\Users\\alienware\\Desktop\\MyProject\\04_vue_cli_phone\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1540554614000},{"path":"C:\\Users\\alienware\\Desktop\\MyProject\\04_vue_cli_phone\\node_modules\\babel-loader\\lib\\index.js","mtime":1540554614000},{"path":"C:\\Users\\alienware\\Desktop\\MyProject\\04_vue_cli_phone\\node_modules\\vue-loader\\lib\\index.js","mtime":1540554614000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Toast } from 'mint-ui';\nexport default {\n  data: function data() {\n    return {\n      list: [],\n      kw: null,\n      pno: 0,\n      pageCount: [],\n      disabled_next_info: \"active\",\n      disabled_prev_info: \"disabled\",\n      products: [],\n      changedActive: 0,\n      not_fond: \"没有知道你想要的东西呢,换一个词试试吧\",\n      isshow: false,\n      pageSize: 8\n    };\n  },\n  methods: {\n    getMsg: function getMsg() {\n      var _this = this;\n\n      this.$axios.get(\"/products?kw=\" + this.kw + \"&pno=\" + this.pno + \"&pageSize=\" + this.pageSize).then(function (res) {\n        if (_this.kw != \" \" && _this.kw != \"\") {\n          _this.res = res.data.data.products;\n          _this.pageCount = res.data.data.pageCount;\n          _this.pno = res.data.data.pno;\n          _this.products = res.data.data.products;\n\n          if (_this.products.length != 0) {\n            _this.isshow = false;\n          } else {\n            _this.isshow = true;\n          }\n        }\n      });\n    },\n    shopinfo: function shopinfo(id) {\n      this.$router.push({\n        path: \"goodsinfo/\".concat(id)\n      });\n    },\n    next: function next() {\n      if (this.kw != \"\") {\n        this.pno++;\n\n        if (this.pno >= this.pageCount && this.pno > 0) {\n          Toast({\n            message: \"已经是最后一页了哦,没有更多了,输入别的看看吧\",\n            duration: 1000\n          });\n          this.pno = this.pageCount - 1;\n          this.changedActive = this.pno;\n          this.disabled_next_info = \"disabled\";\n        } else {\n          this.disabled_prev_info = \"active\";\n          this.getMsg();\n        }\n      } else {\n        Toast({\n          message: \"亲,你还没有输入任何内容哦\",\n          duration: 1500\n        });\n      }\n    },\n    prev: function prev() {\n      if (this.pno <= this.pageCount && this.pno > 0) {\n        this.pno--;\n        this.disabled_prev_info = \"active\";\n        this.disabled_next_info = \"active\";\n        this.getMsg();\n      } else {\n        this.disabled_prev_info = \"disabled\";\n        Toast({\n          message: \"当前已经是第一页哦\",\n          duration: 1000\n        });\n      }\n    },\n    num: function num(i) {\n      this.pno = i;\n      this.getMsg();\n    }\n  },\n  created: function created() {},\n  watch: {\n    kw: function kw() {\n      this.getMsg();\n    },\n    pno: function pno() {\n      this.changedActive = this.pno;\n    }\n  },\n  computed: {}\n};",{"version":3,"sources":["HomeSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA,SACA,KADA,QAEA,SAFA;AAGA,eAAA;AAEA,MAFA,kBAEA;AACA,WAAA;AACA,YAAA,EADA;AAEA,UAAA,IAFA;AAGA,WAAA,CAHA;AAIA,iBAAA,EAJA;AAKA,0BAAA,QALA;AAMA,0BAAA,UANA;AAOA,gBAAA,EAPA;AAQA,qBAAA,CARA;AASA,gBAAA,qBATA;AAUA,cAAA,KAVA;AAWA,gBAAA;AAXA,KAAA;AAcA,GAjBA;AAkBA,WAAA;AACA,UADA,oBACA;AAAA;;AACA,WAAA,MAAA,CAAA,GAAA,CAAA,kBAAA,KAAA,EAAA,GAAA,OAAA,GAAA,KAAA,GAAA,GAAA,YAAA,GAAA,KAAA,QAAA,EAAA,IAAA,CAAA,eAAA;AACA,YAAA,MAAA,EAAA,IAAA,GAAA,IAAA,MAAA,EAAA,IAAA,EAAA,EAAA;AACA,gBAAA,GAAA,GAAA,IAAA,IAAA,CAAA,IAAA,CAAA,QAAA;AACA,gBAAA,SAAA,GAAA,IAAA,IAAA,CAAA,IAAA,CAAA,SAAA;AACA,gBAAA,GAAA,GAAA,IAAA,IAAA,CAAA,IAAA,CAAA,GAAA;AACA,gBAAA,QAAA,GAAA,IAAA,IAAA,CAAA,IAAA,CAAA,QAAA;;AACA,cAAA,MAAA,QAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,kBAAA,MAAA,GAAA,KAAA;AACA,WAFA,MAEA;AACA,kBAAA,MAAA,GAAA,IAAA;AACA;AACA;AACA,OAZA;AAaA,KAfA;AAgBA,YAhBA,oBAgBA,EAhBA,EAgBA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,kCAAA,EAAA;AAAA,OAAA;AACA,KAlBA;AAmBA,QAnBA,kBAmBA;AACA,UAAA,KAAA,EAAA,IAAA,EAAA,EAAA;AACA,aAAA,GAAA;;AACA,YAAA,KAAA,GAAA,IAAA,KAAA,SAAA,IAAA,KAAA,GAAA,GAAA,CAAA,EAAA;AACA,gBAAA;AACA,qBAAA,yBADA;AAEA,sBAAA;AAFA,WAAA;AAIA,eAAA,GAAA,GAAA,KAAA,SAAA,GAAA,CAAA;AACA,eAAA,aAAA,GAAA,KAAA,GAAA;AACA,eAAA,kBAAA,GAAA,UAAA;AACA,SARA,MAQA;AACA,eAAA,kBAAA,GAAA,QAAA;AACA,eAAA,MAAA;AACA;AACA,OAdA,MAcA;AACA,cAAA;AACA,mBAAA,eADA;AAEA,oBAAA;AAFA,SAAA;AAIA;AACA,KAxCA;AAyCA,QAzCA,kBAyCA;AACA,UAAA,KAAA,GAAA,IAAA,KAAA,SAAA,IAAA,KAAA,GAAA,GAAA,CAAA,EAAA;AACA,aAAA,GAAA;AACA,aAAA,kBAAA,GAAA,QAAA;AACA,aAAA,kBAAA,GAAA,QAAA;AACA,aAAA,MAAA;AAEA,OANA,MAMA;AACA,aAAA,kBAAA,GAAA,UAAA;AACA,cAAA;AACA,mBAAA,WADA;AAEA,oBAAA;AAFA,SAAA;AAKA;AACA,KAxDA;AAyDA,OAzDA,eAyDA,CAzDA,EAyDA;AACA,WAAA,GAAA,GAAA,CAAA;AACA,WAAA,MAAA;AACA;AA5DA,GAlBA;AAgFA,SAhFA,qBAgFA,CAAA,CAhFA;AAiFA,SAAA;AACA,MADA,gBACA;AACA,WAAA,MAAA;AACA,KAHA;AAIA,OAJA,iBAIA;AACA,WAAA,aAAA,GAAA,KAAA,GAAA;AACA;AANA,GAjFA;AAyFA,YAAA;AAzFA,CAAA","sourcesContent":["<template>\n    <div class=\"app_search\">\n        <div class=\"mui-card\">\n            <!-- 商品输入框 -->\n            <div class=\"mui-card-content\">\n                <div class=\"mui-card-content-inner\">\n                    <input type=\"text\" value=\"\" placeholder=\"国庆好货 天天抢\" v-model=\"kw\">\n                    <span class=\"mui-icon mui-icon-search\"></span>\n                </div>\n            </div>\n        </div>\n        <!-- 商品列表 -->\n        <h5 style=\"margin-left:40px;\" v-if=\"isshow\">{{not_fond}}</h5>\n        <div class=\"mui-card\">\n            <div class=\"mui-card-header\">搜索结果</div>\n\n            <div class=\"mui-card-content\">\n                <div class=\"mui-card-content-inner\">\n                    <ul class=\"mui-table-view\">\n                        <li class=\"mui-table-view-cell mui-media\" v-for=\"(item,i) in products\" :key=\"item.id\" @click=\"shopinfo(item.tid)\">\n                            <a href=\"javascript:;\">\n                                <img class=\"mui-media-object mui-pull-left\" v-lazy=\"item.md\">\n                                <div class=\"mui-media-body text-ellipse\">\n                                    {{item.title | ellipse(24)}}\n                                    <p class='mui-ellipsis' style=\"color:#18C09D\">{{item.subtitle}}</p>\n                                </div>\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n\n            <div class=\"mui-card-footer\">\n                <div class=\"button_next\">\n                    <button @click=\"prev()\" :class=\"disabled_prev_info\">上一页</button>\n                    <button v-for=\"(item,i) in pageCount\" :class=\"{active:changedActive==i}\" @click=\"num(i)\">{{i+1}}</button>\n                    <button @click=\"next()\" :class=\"disabled_next_info\">下一页</button>\n                </div>\n                \n            </div>\n        </div>\n    </div>\n</template>\n<script>\n    import {\n        Toast\n    } from 'mint-ui';\n    export default {\n\n        data() {\n            return {\n                list: [],\n                kw: null,\n                pno: 0,\n                pageCount: [],\n                disabled_next_info: \"active\",\n                disabled_prev_info: \"disabled\",\n                products: [],\n                changedActive: 0,\n                not_fond: \"没有知道你想要的东西呢,换一个词试试吧\",\n                isshow:false,\n                pageSize: 8,\n\n            }\n        },\n        methods: {\n            getMsg() {\n                this.$axios.get(\"/products?kw=\" + this.kw + \"&pno=\" + this.pno + \"&pageSize=\" + this.pageSize).then(res => {\n                    if(this.kw!=\" \"&&this.kw!=\"\"){\n                        this.res = res.data.data.products;\n                        this.pageCount = res.data.data.pageCount;\n                        this.pno = res.data.data.pno;\n                        this.products = res.data.data.products;\n                        if(this.products.length!=0){\n                            this.isshow = false\n                        }else{\n                            this.isshow=true;\n                        }\n                    }\n                })\n            },\n            shopinfo(id) {\n                this.$router.push({path:`goodsinfo/${id}`})\n            },\n            next() {\n                if (this.kw != \"\") {\n                    this.pno++;\n                    if (this.pno >= this.pageCount && this.pno > 0) {\n                        Toast({\n                            message: \"已经是最后一页了哦,没有更多了,输入别的看看吧\",\n                            duration: 1000\n                        })\n                        this.pno = this.pageCount - 1;\n                        this.changedActive = this.pno;\n                        this.disabled_next_info = \"disabled\"\n                    } else {\n                        this.disabled_prev_info = \"active\"\n                        this.getMsg();\n                    }\n                } else {\n                    Toast({\n                        message: \"亲,你还没有输入任何内容哦\",\n                        duration: 1500\n                    })\n                }\n            },\n            prev() {\n                if (this.pno <= this.pageCount && this.pno > 0) {\n                    this.pno--;\n                    this.disabled_prev_info = \"active\"\n                    this.disabled_next_info = \"active\";\n                    this.getMsg()\n\n                } else {\n                    this.disabled_prev_info = \"disabled\";\n                    Toast({\n                        message: \"当前已经是第一页哦\",\n                        duration: 1000\n                    })\n                  \n                }\n            },\n            num(i) {\n                this.pno = i;\n                this.getMsg();\n            }\n        },\n        created() {},\n        watch: {\n            kw() {\n                this.getMsg()\n            },\n            pno() {\n                this.changedActive = this.pno;\n            }\n        },\n        computed: {\n\n        }\n    };\n</script>\n<style scoped>\n    .button_next {\n        width: 100%;\n        display: flex;\n        justify-content: flex-end;\n    }\n    .active {\n        background: #08b6f6;\n    }\n\n    .button_next .active {\n        background: #08b6f6;\n        color: #fff;\n    }\n\n    .button_next .disabled {\n        opacity: 0.6;\n        cursor: not-allowed;\n    }\n\n    .text-ellipse {\n        display: -webkit-box;\n        overflow: hidden !important;\n        text-overflow: ellipsis;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 1;\n        text-align: left;\n    }\n\n    .mui-icon-search {\n        position: absolute;\n        top: 23px;\n        right: 20px;\n        z-index: 5;\n    }\n</style>"],"sourceRoot":"src\\components\\tabbar"}]}