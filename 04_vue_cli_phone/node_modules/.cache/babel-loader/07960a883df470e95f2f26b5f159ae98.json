{"remainingRequest":"C:\\Users\\web\\Desktop\\MyProject\\04_vue_cli_phone\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\web\\Desktop\\MyProject\\04_vue_cli_phone\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\MyProject\\04_vue_cli_phone\\src\\components\\news\\NewsContainer.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\web\\Desktop\\MyProject\\04_vue_cli_phone\\src\\components\\news\\NewsContainer.vue","mtime":1540830747015},{"path":"C:\\Users\\web\\Desktop\\MyProject\\04_vue_cli_phone\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1540554614000},{"path":"C:\\Users\\web\\Desktop\\MyProject\\04_vue_cli_phone\\node_modules\\babel-loader\\lib\\index.js","mtime":1540554614000},{"path":"C:\\Users\\web\\Desktop\\MyProject\\04_vue_cli_phone\\node_modules\\vue-loader\\lib\\index.js","mtime":1540554614000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Toast } from \"mint-ui\";\nexport default {\n  data: function data() {\n    return {\n      list: [],\n      pageIndex: 0 //页码\n\n    };\n  },\n  methods: {\n    getNewslist: function getNewslist() {\n      var _this = this;\n\n      // 分页获取新闻列表\n      this.$axios.get(\"newslist/list?pno=2&pageSize=10\").then(function (res) {\n        if (res.data.code == 1) {\n          _this.list = res.data.msg.data;\n        } else {\n          Toast(\"加载新闻列表出错\");\n        }\n      });\n    },\n    getMore: function getMore() {\n      var _this2 = this;\n\n      this.pageIndex++; //页码加一\n\n      var url = \"newslist/list?pno=\" + this.pageIndex;\n      this.$axios.get(url).then(function (result) {\n        //赋值有问题,覆盖前一页数据\n        //    this.list=result.body.msg.data;\n        //保存前一页 concat\n        var newsLength = result.data.msg.data.length;\n        _this2.list = _this2.list.concat(result.data.msg.data);\n\n        if (_this2.list.length <= newsLength + result.data.msg.data.length) {\n          Toast({\n            message: \"加载成功\",\n            duration: 400\n          });\n        } else {\n          Toast({\n            message: \"没有更多了\",\n            duration: 500\n          });\n        }\n      });\n    }\n  },\n  created: function created() {\n    this.getNewslist();\n    this.getMore();\n  }\n};",{"version":3,"sources":["NewsContainer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAqBA,SAAA,KAAA,QAAA,SAAA;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,YAAA,EADA;AAEA,iBAAA,CAFA,CAEA;;AAFA,KAAA;AAIA,GANA;AAOA,WAAA;AACA,eADA,yBACA;AAAA;;AACA;AACA,WAAA,MAAA,CAAA,GAAA,CAAA,iCAAA,EAAA,IAAA,CAAA,eAAA;AACA,YAAA,IAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,gBAAA,IAAA,GAAA,IAAA,IAAA,CAAA,GAAA,CAAA,IAAA;AACA,SAFA,MAEA;AACA,gBAAA,UAAA;AACA;AACA,OANA;AAOA,KAVA;AAWA,WAXA,qBAWA;AAAA;;AACA,WAAA,SAAA,GADA,CACA;;AACA,UAAA,MAAA,uBAAA,KAAA,SAAA;AACA,WAAA,MAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA;AACA;AACA;AACA,YAAA,aAAA,OAAA,IAAA,CAAA,GAAA,CAAA,IAAA,CAAA,MAAA;AACA,eAAA,IAAA,GAAA,OAAA,IAAA,CAAA,MAAA,CAAA,OAAA,IAAA,CAAA,GAAA,CAAA,IAAA,CAAA;;AACA,YAAA,OAAA,IAAA,CAAA,MAAA,IAAA,aAAA,OAAA,IAAA,CAAA,GAAA,CAAA,IAAA,CAAA,MAAA,EAAA;AACA,gBAAA;AACA,qBAAA,MADA;AAEA,sBAAA;AAFA,WAAA;AAIA,SALA,MAKA;AACA,gBAAA;AACA,qBAAA,OADA;AAEA,sBAAA;AAFA,WAAA;AAIA;AACA,OAjBA;AAkBA;AAhCA,GAPA;AAyCA,SAzCA,qBAyCA;AACA,SAAA,WAAA;AACA,SAAA,OAAA;AACA;AA5CA,CAAA","sourcesContent":["<template>\n    <div class=\"app_newslist \">\n      \n<ul class=\"mui-table-view\">\n    <li class=\"mui-table-view-cell mui-media\" v-for=\"(item,i) in list\" :key=\"item.i\">\n        <router-link :to=\"'/newsdetail/'+item.id\">\n            <img class=\"mui-media-object mui-pull-left\" :src=\"item.img_url\">\n            <div class=\"mui-media-body\">\n                {{item.title}}\n                <p class='mui-ellipsis'>\n                    <span >{{item.ctime | dateFormat}}</span>\n                    <span>点击:{{item.click}}次</span>\n                </p>\n            </div>\n        </router-link>\n    </li>\n</ul>\n <mt-button type=\"primary\" size=\"large\" @click=\"getMore()\">加载更多....</mt-button>\n    </div>\n</template>\n<script>\nimport { Toast } from \"mint-ui\";\nexport default {\n  data() {\n    return {\n      list: [],\n      pageIndex: 0 //页码\n    };\n  },\n  methods: {\n    getNewslist() {\n      // 分页获取新闻列表\n        this.$axios.get(\"newslist/list?pno=2&pageSize=10\").then(res=>{\n           if(res.data.code==1){\n            this.list=res.data.msg.data;\n           }else{\n               Toast(\"加载新闻列表出错\")\n           }\n        })\n    },\n    getMore() {\n      this.pageIndex++; //页码加一\n      var url = \"newslist/list?pno=\" + this.pageIndex;\n      this.$axios.get(url).then(result => {\n        //赋值有问题,覆盖前一页数据\n        //    this.list=result.body.msg.data;\n        //保存前一页 concat\n        var newsLength = result.data.msg.data.length;\n        this.list = this.list.concat(result.data.msg.data);\n        if (this.list.length <= newsLength + result.data.msg.data.length) {\n          Toast({\n            message: \"加载成功\",\n            duration: 400\n          });\n        } else {\n          Toast({\n            message: \"没有更多了\",\n            duration: 500\n          });\n        }\n      });\n    }\n  },\n  created() {\n    this.getNewslist();\n    this.getMore();\n  }\n};\n</script>\n<style>\n.app_newslist .muit-table-view h1 {\n  font-size: 14px;\n  font-weight: 5000;\n}\n.app_newslist li .mui-ellipsis {\n  font-size: 12px;\n  color: #226aff;\n  display: flex;\n  justify-content: space-between;\n}\n</style>\n"],"sourceRoot":"src\\components\\news"}]}