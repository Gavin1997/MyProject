{"remainingRequest":"C:\\Users\\alienware\\Desktop\\MyProject\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\alienware\\Desktop\\MyProject\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\alienware\\Desktop\\MyProject\\vue_app_00\\src\\components\\tabbar\\HomeContainer.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\alienware\\Desktop\\MyProject\\vue_app_00\\src\\components\\tabbar\\HomeContainer.vue","mtime":1540735537861},{"path":"C:\\Users\\alienware\\Desktop\\MyProject\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1540554614000},{"path":"C:\\Users\\alienware\\Desktop\\MyProject\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1540554614000},{"path":"C:\\Users\\alienware\\Desktop\\MyProject\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1540554614000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//加载当前组件需要第三方模块\nimport { Toast } from \"mint-ui\";\nexport default {\n  data: function data() {\n    return {\n      list: [],\n      recommendlist: [],\n      pno: 0,\n      pageSize: 4,\n      pageCount: \"\",\n      islogin: false,\n      islogin_register: true,\n      uname: \"\" //d当前session中的名字\n\n    };\n  },\n  methods: {\n    getImageList: function getImageList() {\n      var _this = this;\n\n      //获取图片轮播数据\n      this.$http.get(\"index/list\").then(function (res) {\n        //   console.log(res)\n        //nodejs发送字符串 通过VueResource转换成js对象\n        if (res.status == 200) {\n          _this.list = res.body;\n        } else {\n          //出错提示 Toast()\n          Toast(\"加载轮播图片失败\");\n        }\n      });\n    },\n    // 获取推荐\n    getRecommendList: function getRecommendList() {\n      var _this2 = this;\n\n      this.$axios.get(\"index/recommend?pno=\".concat(this.pno, \"&pageSize=\").concat(this.pageSize)).then(function (res) {\n        _this2.recommendlist = res.data.data.products;\n        _this2.pno = res.data.data.pno;\n        _this2.pageSize = res.data.data.pageSize;\n        _this2.pageCount = res.data.data.pageCount;\n      });\n    },\n    //换一批\n    changeMsg: function changeMsg() {\n      if (this.pno < this.pageCount) {\n        this.pno++;\n        this.getRecommendList();\n      } else {\n        this.pno = parseInt(Math.random() * this.pageCount);\n        this.getRecommendList();\n      }\n    },\n    //跳转用户信息\n    gouserinfo: function gouserinfo() {\n      this.$router.push({\n        path: \"/home/member\"\n      });\n    },\n    //跳转用户注册\n    goregister: function goregister() {\n      this.$router.push({\n        path: \"/home/users/register\"\n      });\n    },\n    //跳转用户登录\n    gologin: function gologin() {\n      this.$router.push({\n        path: \"/home/users/login\"\n      });\n    },\n    //退出登录\n    signout: function signout() {\n      this.$axios.get(\"users/signout\", function (res) {});\n    }\n  },\n  created: function created() {\n    this.getImageList();\n    this.getRecommendList();\n  },\n  mounted: function mounted() {\n    var _this3 = this;\n\n    this.$axios.get(\"users/islogin\").then(function (res) {\n      console.log(res);\n\n      if (res.data.ok == 1) {\n        _this3.uname = res.data.uname;\n        _this3.islogin = true;\n        _this3.islogin_register = false;\n      } else {\n        _this3.islogin = false;\n        _this3.islogin_register = true;\n      }\n    });\n  }\n};",{"version":3,"sources":["HomeContainer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA,SACA,KADA,QAEA,SAFA;AAIA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,YAAA,EADA;AAEA,qBAAA,EAFA;AAGA,WAAA,CAHA;AAIA,gBAAA,CAJA;AAKA,iBAAA,EALA;AAMA,eAAA,KANA;AAOA,wBAAA,IAPA;AAQA,aAAA,EARA,CAQA;;AARA,KAAA;AAUA,GAZA;AAaA,WAAA;AACA,gBADA,0BACA;AAAA;;AACA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,YAAA,EAAA,IAAA,CAAA,eAAA;AACA;AACA;AACA,YAAA,IAAA,MAAA,IAAA,GAAA,EAAA;AACA,gBAAA,IAAA,GAAA,IAAA,IAAA;AACA,SAFA,MAEA;AACA;AACA,gBAAA,UAAA;AACA;AACA,OATA;AAUA,KAbA;AAcA;AACA,oBAfA,8BAeA;AAAA;;AACA,WAAA,MAAA,CAAA,GAAA,+BAAA,KAAA,GAAA,uBAAA,KAAA,QAAA,GAAA,IAAA,CAAA,eAAA;AACA,eAAA,aAAA,GAAA,IAAA,IAAA,CAAA,IAAA,CAAA,QAAA;AACA,eAAA,GAAA,GAAA,IAAA,IAAA,CAAA,IAAA,CAAA,GAAA;AACA,eAAA,QAAA,GAAA,IAAA,IAAA,CAAA,IAAA,CAAA,QAAA;AACA,eAAA,SAAA,GAAA,IAAA,IAAA,CAAA,IAAA,CAAA,SAAA;AAEA,OANA;AAOA,KAvBA;AAwBA;AACA,aAzBA,uBAyBA;AACA,UAAA,KAAA,GAAA,GAAA,KAAA,SAAA,EAAA;AACA,aAAA,GAAA;AACA,aAAA,gBAAA;AACA,OAHA,MAGA;AACA,aAAA,GAAA,GAAA,SAAA,KAAA,MAAA,KAAA,KAAA,SAAA,CAAA;AACA,aAAA,gBAAA;AACA;AACA,KAjCA;AAkCA;AACA,cAnCA,wBAmCA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,cAAA;AAAA,OAAA;AACA,KArCA;AAsCA;AACA,cAvCA,wBAuCA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,cAAA;AAAA,OAAA;AACA,KAzCA;AA0CA;AACA,WA3CA,qBA2CA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,cAAA;AAAA,OAAA;AACA,KA7CA;AA8CA;AACA,WA/CA,qBA+CA;AACA,WAAA,MAAA,CAAA,GAAA,CAAA,eAAA,EAAA,eAAA,CAEA,CAFA;AAGA;AAnDA,GAbA;AAkEA,SAlEA,qBAkEA;AACA,SAAA,YAAA;AACA,SAAA,gBAAA;AACA,GArEA;AAsEA,SAtEA,qBAsEA;AAAA;;AACA,SAAA,MAAA,CAAA,GAAA,CAAA,eAAA,EAAA,IAAA,CAAA,eAAA;AACA,cAAA,GAAA,CAAA,GAAA;;AACA,UAAA,IAAA,IAAA,CAAA,EAAA,IAAA,CAAA,EAAA;AACA,eAAA,KAAA,GAAA,IAAA,IAAA,CAAA,KAAA;AACA,eAAA,OAAA,GAAA,IAAA;AACA,eAAA,gBAAA,GAAA,KAAA;AACA,OAJA,MAIA;AACA,eAAA,OAAA,GAAA,KAAA;AACA,eAAA,gBAAA,GAAA,IAAA;AACA;AACA,KAVA;AAWA;AAlFA,CAAA","sourcesContent":["<template>\n  <div class=\"app\">\n    <!-- 主页组件 HomeContainer.vue -->\n    <!-- 1:轮播图 -->\n<mt-header title=\"心灵旅游\" fixed  style=\"background: linear-gradient(180deg, #43C67B, #10BFA4);\">\n  <!-- <router-link to=\"/\" slot=\"left\">\n    <mt-button icon=\"back\">返回</mt-button>\n  </router-link> -->\n  <mt-button  slot=\"right\" @click=\"gouserinfo()\" v-if=\"islogin\">{{uname}}</mt-button>\n  <mt-button  slot=\"right\"  style=\"margin:0 5px;\" @click=\"signout()\" v-if=\"islogin\">退出登录</mt-button>\n  <mt-button  slot=\"right\" style=\"margin:0 5px;\" @click=\"goregister()\" v-if=\"islogin_register\">注册</mt-button>\n  <mt-button  slot=\"right\" @click=\"gologin()\" v-if=\"islogin_register\">登录</mt-button>\n</mt-header>\n    <mt-swipe :auto=\"3000\">\n      <mt-swipe-item v-for=\"item in list\" :key=\"item.id\">\n        <img :src=\"item.img\" alt=\"\">\n      </mt-swipe-item>\n    </mt-swipe>\n    <div class=\"divider\"></div>\n    <!-- 2:六宫格 -->\n    <ul class=\"mui-table-view mui-grid-view mui-grid-9\">\n      <li class=\"mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3\">\n        <router-link to=\"/home/newslist\">\n          <img src=\"../../img/icons/Music Equalizer.png\" />\n          <div class=\"mui-media-body\">新闻资讯</div>\n        </router-link>\n      </li>\n      <li class=\"mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3\">\n        <router-link to=\"/home/goodslist\">\n          <img src=\"../../img/icons/Beach.png\" />\n          <div class=\"mui-media-body\" id=\"badge\">商品\n          </div>\n        </router-link>\n      </li>\n      <li class=\"mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3\"><a href=\"#\">\n          <img src=\"../../img/icons/Old Car 2.png\" />\n          <div class=\"mui-media-body\">租车</div>\n        </a></li>\n      <li class=\"mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3\"><a href=\"#\">\n          <img src=\"../../img/icons/Paper Plane.png\" />\n          <div class=\"mui-media-body\">位置</div>\n        </a></li>\n      <li class=\"mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3\"><a href=\"#\">\n          <img src=\"../../img/icons/Apartment.png\" />\n          <div class=\"mui-media-body\">酒店</div>\n        </a></li>\n      <li class=\"mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3\"><a href=\"#\">\n          <img src=\"../../img/icons/Wind Wheel.png\" />\n          <div class=\"mui-media-body\">天气</div>\n        </a></li>\n    </ul>\n    <div class=\"divider\"></div>\n    <!-- 精选折扣 每日更新 -->\n    <div class=\"recommend\">\n      <h4>精选折扣 每日更新</h4>\n      <span class=\"change\" @click=\"changeMsg()\">换一批</span>\n      <div class=\"recommend-product-warp\">\n        <div class=\"recommend-prodcut\" v-for=\"(item,i) in recommendlist\">\n          <img :src=\"item.pic\">\n          <p class=\"text-ellipse\">{{item.details}}</p>\n          <p class=\"now-price\">{{item.price}} <span>元起</span></p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n  //加载当前组件需要第三方模块\n  import {\n    Toast\n  } from \"mint-ui\";\n\n  export default {\n    data() {\n      return {\n        list: [],\n        recommendlist: [],\n        pno: 0,\n        pageSize: 4,\n        pageCount: \"\",\n        islogin:false,\n        islogin_register:true,\n        uname:\"\",//d当前session中的名字\n      };\n    },\n    methods: {\n      getImageList() {\n        //获取图片轮播数据\n        this.$http.get(\"index/list\").then(res => {\n          //   console.log(res)\n          //nodejs发送字符串 通过VueResource转换成js对象\n          if (res.status == 200) {\n            this.list = res.body;\n          } else {\n            //出错提示 Toast()\n            Toast(\"加载轮播图片失败\");\n          }\n        });\n      },\n      // 获取推荐\n      getRecommendList() {\n        this.$axios.get(`index/recommend?pno=${this.pno}&pageSize=${this.pageSize}`).then(res => {\n          this.recommendlist = res.data.data.products;\n          this.pno = res.data.data.pno;\n          this.pageSize = res.data.data.pageSize;\n          this.pageCount = res.data.data.pageCount;\n\n        })\n      },\n      //换一批\n      changeMsg() {\n        if (this.pno < this.pageCount) {\n          this.pno++\n          this.getRecommendList();\n        } else {\n          this.pno = parseInt(Math.random() * this.pageCount);\n          this.getRecommendList();\n        }\n      },\n      //跳转用户信息\n      gouserinfo(){\n        this.$router.push({path:\"/home/member\"})\n      },\n      //跳转用户注册\n      goregister(){\n        this.$router.push({path:\"/home/users/register\"})\n      },\n      //跳转用户登录\n      gologin(){\n        this.$router.push({path:\"/home/users/login\"})\n      },\n      //退出登录\n      signout(){\n        this.$axios.get(\"users/signout\",(res=>{\n\n        }))\n      }\n    },\n    created() {\n      this.getImageList();\n      this.getRecommendList();\n    },\n    mounted(){\n      this.$axios.get(\"users/islogin\").then(res=>{\n         console.log(res)\n         if(res.data.ok ==1){\n           this.uname = res.data.uname;\n           this.islogin = true;\n           this.islogin_register = false\n         }else{\n            this.islogin = false\n            this.islogin_register = true\n         }\n      })\n    }\n  };\n</script>\n<style scoped>\n\n  .app .mint-swipe {\n    height: 160px;\n  }\n\n  .app .mint-swipe img {\n    width: 100%;\n    height: 160px;\n  }\n\n  .app .mui-grid-view.mui-grid-9 {\n    background-color: #fff;\n    border: 0;\n  }\n\n  .mui-grid-view.mui-grid-9 img {\n    width: 60px;\n    height: 60px;\n  }\n\n  .mui-grid-view.mui-grid-9 .mui-media-body {\n    font-size: 13px;\n  }\n\n  .app .mui-grid-view.mui-grid-9 .mui-table-view-cell {\n    border: 0;\n  }\n\n  .divider {\n    height: 15px;\n    background: #f1f1f1;\n    box-shadow: 0 5px 5px rgba(0, 0, 0, .1) inset;\n    /*h v blur speard color inset*/\n  }\n\n  .recommend {\n    padding: 18px 0;\n    text-align: center;\n    background: #fff;\n    position: relative;\n  }\n\n  .recommend h4 {\n    margin-bottom: 18px;\n  }\n\n  .recommend .change {\n    color: #666;\n    font-size: 12px;\n    position: absolute;\n    ;\n    top: 30px;\n    right: 20px;\n    cursor: pointer;\n  }\n\n  .recommend .change:active {\n    color: #36C586;\n  }\n\n  /* 精选折扣 */\n  .recommend-product-warp {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-wrap: wrap;\n  }\n\n  .recommend-prodcut {\n    width: 44%;\n    text-align: left;\n    margin: 0 3%;\n  }\n\n  .text-ellipse {\n    display: -webkit-box;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 2;\n    text-align: left;\n  }\n\n  .recommend-prodcut p {\n    color: #111;\n    font-size: 13px;\n    margin: 0;\n  }\n\n  p.now-price {\n    font-size: 15px;\n    color: #ff7467\n  }\n\n  .recommend-prodcut span {\n    color: #636363;\n    font-size: 10px;\n  }\n\n  .recommend-prodcut img {\n    width: 163px;\n    height: 110px;\n  }\n</style>"],"sourceRoot":"src\\components\\tabbar"}]}